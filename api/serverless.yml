service: notion-email-service-api
frameworkVersion: '3'
provider:
  name: aws
  runtime: python3.8
  stage: dev


package:
  patterns:
    - app.py
    - lambda_handler.py
    - '!node_modules/**'
    - '!pythonLayers/**'
    - '!venv/**'
    # - '!.env'
    # - '!.env.prod'


layers:
  general:
    path: pythonLayers/general

functions:
  api:
    handler: lambda_handler.lambda_handler
    layers:
      - !Ref GeneralLambdaLayer
    events:
      - httpApi: '*'


custom:
  tableName: users-table
  # pythonRequirements:
  #   pythonBin: python3
  #   dockerImage: amazon/aws-lambda-python:3.8
  #   dockerizePip: non-linux


plugins:
  - serverless-dotenv-plugin

  

